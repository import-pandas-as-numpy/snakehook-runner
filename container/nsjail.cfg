# Placeholder nsjail cfg; runtime limits are also passed via CLI flags.
mode: ONCE
# Isolate to a dedicated jail rootfs path; runtime filesystem access is
# explicitly reintroduced via bind mounts from the launcher.
chroot: "/app/nsjail/rootfs"
# Map root-in-jail to unprivileged host IDs.
uidmap {
  inside_id: 0
  outside_id: 65534
  count: 1
}
gidmap {
  inside_id: 0
  outside_id: 65534
  count: 1
}
clone_newnet: true
clone_newuser: true
clone_newpid: true
clone_newns: true
clone_newuts: true
clone_newipc: true
# Many container runtimes do not allow creating a new cgroup namespace from
# inside an already containerized process. Keep cgroup limits via CLI flags.
clone_newcgroup: false
